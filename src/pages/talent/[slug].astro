---
import Skelet from "../../layout/skelet.astro"
import GalleryCarrousel from "../../components/gallery_carrousel.astro";

export async function getStaticPaths() {
const data = await fetch(
  "https://qnmavaxwhjqqhjgjqurq.supabase.co/rest/v1/talent",
  {
    method: "GET",
    headers: {
      apikey:
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFubWF2YXh3aGpxcWhqZ2pxdXJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTU1OTM0ODEsImV4cCI6MjAzMTE2OTQ4MX0.RDkLGM5hqlega6p_jA4OWoHfM2D8Iqrtah5GOXEY1e0",
    },
  }
).then((response) => response.json());

return data.map((talent) => {
    return {
        params: { slug: talent.slug },
        props: { myData: talent },
    };
});
}
const {myData} = Astro.props;
console.log(myData)
---

<Skelet title={myData.name}>
   <div class="artist_grid">
                <div class="side_bar">
                    <div class="cross_info">
                        <div>
                            <img class="cross" src="/imgs/cross.svg" alt="burger"/>
                        </div>
                        <div>
                            <p class="side_text">Info</p>
                        </div>
                    </div>
                    <div class="info">
                        <div>
                        <h2>Alga</h2>
                        <p>Copenhagen-based electropop duo alga playfully shows what it feels and sounds like when hard-hitting productions meet heartfelt melodies. Inspired by genres such as R&B, Pop, D&B and UK Garage, their uncompromising sound bridges experimental instrumentation and catchy hooks.
alga is the name of the collaboration between Alberte Silberbrandt and Gabriel Blachmann. With the release of their debut EP 'Don't Buy Me Flowers', the duo has been named one of the most promising upcoming acts in Denmark.</p>
</div>
                    </div>
                </div>
            <div class="open_tab">
                <div class="gallery">
                     {
      data.map((name) => {
        return <GalleryCarrousel data={name} />;
      })
    }
                 </div>
                  <div class="cross_gallery_txt">
                        <div>
                            <img class="cross_gallery" src="/imgs/cross.svg" alt="burger"/>
                        </div>
                        <div>
                            <p class="side_text_gallery">Gallery</p>
                        </div>
                    </div>
            </div>
        </div>
</Skelet>