---
import Event from "../components/Event.astro";
import Recommendation from "../components/Recommendation.astro";
import Skelet from "../layout/skelet.astro";
import News from "../components/news.astro";
---

<Skelet>
  <h1>Whatâ€™s New?</h1>
  <!-- <p>Read about latest releases, upcoming events, what's on our radar and much more!</p> -->
  <div class="filtrering">
    <p id="filter_all">All</p>
    <p id="filter_events">Events</p>
    <p id="filter_news">News</p>
    <p id="filter_recommendations">Recommendations</p>
  </div>
  <div id="news_container">
  <News></News>
  </div>
  <div id="recommendation_container">
  <Recommendation></Recommendation>
  </div>
  <div id="event_container">
  <Event></Event>
  </div>
</Skelet>

<style>
  .filtrering {
    display: flex;
    justify-content: space-between;
    margin: 0px 20px;
    width: 70%;
  }

  p:hover {
    text-decoration: underline;
    cursor: pointer;
  }
  h1{
    margin-left: 20px;
  }
.remove{
    display: none;
    }
#event_container{
  margin-bottom: 50px;
}
.underline{
text-decoration: underline;
}
@media (min-width: 800px) {
 .filtrering {
    width: 30%;
    margin-left: 35px;
  }
  h1{
    margin-left: 35px;
  }
}
</style>

<script>
  const all = document.querySelector("#filter_all");
  const events = document.querySelector("#filter_events");
  const news = document.querySelector("#filter_news");
  const recommendations = document.querySelector("#filter_recommendations");

    window.addEventListener("load", showAll);
    all.addEventListener("click", showAll);
    news.addEventListener("click", newsFiltering);
    recommendations.addEventListener("click", recommendationFiltering);
    events.addEventListener("click", eventFiltering);

  function eventFiltering() {
    console.log(1)
    document.querySelector("#recommendation_container").classList.add("remove");
    document.querySelector("#news_container").classList.add("remove");
    document.querySelector("#event_container").classList.remove("remove");
    events.classList.add("underline");
    recommendations.classList.remove("underline");
    all.classList.remove("underline");
    news.classList.remove("underline");

  }
   function newsFiltering() {
    console.log(2)
    document.querySelector("#recommendation_container").classList.add("remove");
    document.querySelector("#event_container").classList.add("remove");
    document.querySelector("#news_container").classList.remove("remove");
    news.classList.add("underline");
    recommendations.classList.remove("underline");
    all.classList.remove("underline");
    events.classList.remove("underline");
  }
   function recommendationFiltering() {
    console.log(3)
    document.querySelector("#news_container").classList.add("remove");
    document.querySelector("#event_container").classList.add("remove");
    document.querySelector("#recommendation_container").classList.remove("remove");
    recommendations.classList.add("underline");
    news.classList.remove("underline");
    all.classList.remove("underline");
    events.classList.remove("underline");
  }
     function showAll() {
    console.log(4)
    document.querySelector("#recommendation_container").classList.remove("remove");
    document.querySelector("#event_container").classList.remove("remove");
    document.querySelector("#news_container").classList.remove("remove");
    all.classList.add("underline");
    news.classList.remove("underline");
    recommendations.classList.remove("underline");
    events.classList.remove("underline");
  }
</script>